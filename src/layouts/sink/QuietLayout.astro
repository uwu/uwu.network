---
import "^css/global.sass";
import BorderLayout from "@layouts/BorderLayout.astro";

const posts = [
  ...(await Astro.glob("/src/pages/~sink/blog/**/*.md")), 
  ...(await Astro.glob("/src/pages/~sink/blog/**/*.mdx"))
];

const { frontmatter } = posts.find(
  (p) =>
    Astro.request.url.endsWith(p.url) ||
    Astro.request.url.slice(0, -1).endsWith(p.url)
);
---

<BorderLayout
  title={frontmatter.title}
  titleName="Quiet System"
  headerName="Quiet System"
  footerOride={"YELLOWSINK @ UWUNET " + frontmatter.pubDate.split("T")[0]}
  mainHref="/~sink/blog"
  scroll
  ogpType="article"
  ogpSiteName="Quiet System"
  ogpDescription={frontmatter.description}
>
  <meta slot="head" property="og:title" content={frontmatter.title + " - Quiet System"} />
  <meta slot="head" property="article:author" content="Yellowsink" />
  <meta slot="head" property="article:published_time" content={frontmatter.pubDate} />

  <div id="quiet">
    <slot />
  </div>
</BorderLayout>

<style lang="sass" is:global>
  // scroll shutters so that the top middle block and bottom right block don't look odd when scrolling
  
  $OSET: 14px

  main::before, main::after
      content: ""
      position: fixed
      background: black
      height: 10px
      left: $OSET
      right: $OSET
    
  main::before
    top: $OSET
  
  main::after
    bottom: $OSET
</style>
